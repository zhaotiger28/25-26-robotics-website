<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team - Hornet Robotics | FTC 9045</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">Hornet Robotics</a>
      <div class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="#teamSection">Team</a>
        <a href="community.html">Community</a>
        <a href="contact.html" class="nav-cta">Contact Us</a>
      </div>
      <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Page Header -->
  <header class="page-header">
    <h1>Our Team</h1>
    <p>Meet the 24 students who design, build, and program our competition robots.</p>
  </header>

  <!-- Team Grid -->
  <section id="teamSection">
    <div class="team-grid">
      <!-- Row 1 -->
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Aarav Nesargi</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Ahan Jain</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Ayan Jain</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Chloe Tandon</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Ellen Mapes</span></h4>
        <p class="grade">9th Grade</p>
      </div>

      <!-- Row 2 -->
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Gabriel De La Torre</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Harshdeep Bommareddy</span></h4>
        <p class="grade">12th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Johnny Sewak</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Justin Wu</span></h4>
        <p class="grade">12th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Kiran Karthik</span></h4>
        <p class="grade">11th Grade</p>
      </div>

      <!-- Row 3 -->
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Knox Smith</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Niam Ghelani</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Raj Reddy</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Sahith Chintapalli</span></h4>
        <p class="grade">11th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Samaira Panjiar</span></h4>
        <p class="grade">10th Grade</p>
      </div>

      <!-- Row 4 -->
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Sammie Engberg</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Samy Santosh</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Sanay Nesargi</span></h4>
        <p class="grade">12th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Sydney Terrell</span></h4>
        <p class="grade">12th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Tej Sachdeva</span></h4>
        <p class="grade">11th Grade</p>
      </div>

      <!-- Row 5 -->
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Tiger Zhao</span></h4>
        <p class="grade">10th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Vedant Subramanian</span></h4>
        <p class="grade">12th Grade</p>
      </div>
      <div class="team-member">
        <div class="member-photo" data-img></div>
        <h4><span class="name">Vihaan Magan</span></h4>
        <p class="grade">9th Grade</p>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-sponsor">
        <span>Proudly supported by</span>
        <img src="https://greenhill.static.amais.com/Wordmarkwhite-731-optimized.png" alt="Greenhill School" class="greenhill-logo">
      </div>
      <p>2025 Hornet Robotics - FTC Team 9045</p>
      <p class="footer-sub">Greenhill School, Addison TX</p>
    </div>
  </footer>

  <!-- Mobile menu script -->
  <script>
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      menuToggle.classList.toggle('active');
    });
  </script>

  <!-- Auto-load team photos -->
  <script>
    (function() {
      const folder = 'images/teamheadshots/';
      const exts = ['.jpg', '.jpeg', '.png'];

      function variants(name) {
        const clean = name.trim();
        const v = new Set();
        v.add(clean);
        v.add(clean.replace(/\s+/g, '_'));
        v.add(clean.replace(/\s+/g, '-'));
        v.add(clean.replace(/\s+/g, '').toLowerCase());
        v.add(clean.toLowerCase().replace(/\s+/g, '_'));
        v.add(clean.toLowerCase().replace(/\s+/g, '-'));
        return Array.from(v);
      }

      function tryLoad(src) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => resolve(src);
          img.onerror = () => reject(src);
          img.src = src;
        });
      }

      document.addEventListener('DOMContentLoaded', () => {
        const members = document.querySelectorAll('.team-member');
        members.forEach(member => {
          const nameEl = member.querySelector('h4');
          const photoEl = member.querySelector('.member-photo');
          if (!nameEl || !photoEl) return;
          const nameSpan = nameEl.querySelector('.name');
          const name = (nameSpan && (nameSpan.textContent || nameSpan.innerText)) || nameEl.textContent || nameEl.innerText || '';
          const nameVars = variants(name);

          const candidates = [];
          nameVars.forEach(v => exts.forEach(ext => candidates.push(folder + v + ext)));

          (async function tryCandidates() {
            for (const url of candidates) {
              try {
                await tryLoad(url);
                photoEl.style.backgroundImage = `url('${url}')`;
                photoEl.setAttribute('data-img', url);
                return;
              } catch (e) {}
            }
          })();
        });
      });
    })();
  </script>

  <!-- Team member bio modal -->
  <div id="bioModal" class="modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="close-btn" aria-label="Close">x</button>
      <div class="modal-photo" id="modalPhoto"></div>
      <div class="modal-body">
        <h3 id="modalTitle"></h3>
        <p id="modalGrade" style="color: var(--gray-600); margin-bottom: 12px;"></p>
        <div id="modalBio">No bio available.</div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const modal = document.getElementById('bioModal');
      const modalPhoto = document.getElementById('modalPhoto');
      const modalTitle = document.getElementById('modalTitle');
      const modalGrade = document.getElementById('modalGrade');
      const modalBio = document.getElementById('modalBio');
      const closeBtn = modal.querySelector('.close-btn');

      function openModal(data){
        modalPhoto.style.backgroundImage = data.photo ? `url('${data.photo}')` : '';
        modalTitle.textContent = data.name || '';
        modalGrade.textContent = data.grade || '';
        modalBio.textContent = data.bio || 'No bio available.';
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        closeBtn.focus();
      }

      function closeModal(){
        const dialog = modal.querySelector('.modal');
        if (!dialog) {
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden','true');
          return;
        }
        dialog.classList.add('closing');
        dialog.addEventListener('animationend', function _onend(){
          dialog.classList.remove('closing');
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden','true');
          dialog.removeEventListener('animationend', _onend);
        });
      }

      document.querySelectorAll('.team-member').forEach(member => {
        member.addEventListener('click', async () => {
          const nameEl = member.querySelector('h4');
          const nameSpan = nameEl ? nameEl.querySelector('.name') : null;
          const name = (nameSpan && nameSpan.textContent) || (nameEl && (nameEl.textContent || nameEl.innerText)) || '';
          const gradeEl = member.querySelector('.grade');
          const grade = gradeEl ? gradeEl.textContent : '';
          const photoEl = member.querySelector('.member-photo');
          const photo = photoEl && (photoEl.getAttribute('data-img') || (photoEl.style.backgroundImage || '').replace(/^url\(['\"]?|['\"]?\)$/g, ''));

          let bio = member.dataset.bio || member.getAttribute('data-bio') || '';
          if (!bio) {
            openModal({name, grade, photo, bio: 'Loading bio...'});

            const clean = name.trim();
            const variants = Array.from(new Set([
              clean,
              clean.replace(/\s+/g, '_'),
              clean.replace(/\s+/g, '-'),
              clean.replace(/\s+/g, ''),
              clean.toLowerCase(),
              clean.toLowerCase().replace(/\s+/g, '_'),
              clean.toLowerCase().replace(/\s+/g, '-')
            ])).filter(Boolean);

            const roots = ['bios/', 'tools/bios/', 'tools/'];
            const suffixes = ['', '-bio', '_bio', 'bio'];

            let found = null;
            for (const root of roots) {
              for (const v of variants) {
                for (const suf of suffixes) {
                  const url = `${root}${v}${suf}.txt`;
                  try {
                    const res = await fetch(url, {cache: 'no-cache'});
                    if (res.ok) {
                      const text = (await res.text()).trim();
                      if (text) { found = text.replace(/\s+/g, ' '); break; }
                    }
                  } catch (e) {}
                }
                if (found) break;
              }
              if (found) break;
            }

            if (found) {
              bio = found;
              try { member.setAttribute('data-bio', bio); } catch (e) {}
              const modalBioEl = document.getElementById('modalBio');
              if (modalBioEl) modalBioEl.textContent = bio;
            } else {
              const modalBioEl = document.getElementById('modalBio');
              if (modalBioEl) modalBioEl.textContent = 'No bio available.';
            }
          } else {
            openModal({name, grade, photo, bio});
          }
        });
      });

      closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
      });
    })();
  </script>
</body>
</html>
